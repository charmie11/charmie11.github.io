<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>CR直列回路シミュレータ</title>
    <style>
      html, body {
        box-sizing: border-box;
        display: flow-root;
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
    <script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-3.5.2.min.js"></script>
    <script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.5.2.min.js"></script>
    <script type="text/javascript">
        Bokeh.set_log_level("info");
    </script>
  </head>
  <body>
    <div id="cfe47a2f-1f7b-4f43-ab21-c30f95523d25" data-root-id="p1139" style="display: contents;"></div>
  
    <script type="application/json" id="b5363ecc-f94d-4bdf-bc86-63b8d42270e3">
      {"0c980f4c-125f-4f2e-a5cb-39fd052fad4a":{"version":"3.5.2","title":"Bokeh Application","roots":[{"type":"object","name":"Column","id":"p1139","attributes":{"children":[{"type":"object","name":"Row","id":"p1132","attributes":{"children":[{"type":"object","name":"Slider","id":"p1001","attributes":{"js_property_callbacks":{"type":"map","entries":[["change:value",[{"type":"object","name":"CustomJS","id":"p1008","attributes":{"args":{"type":"map","entries":[["E",{"id":"p1001"}],["R",{"type":"object","name":"Slider","id":"p1002","attributes":{"js_property_callbacks":{"type":"map","entries":[["change:value",[{"id":"p1008"},{"type":"object","name":"CustomJS","id":"p1129","attributes":{"args":{"type":"map","entries":[["source",{"type":"object","name":"ColumnDataSource","id":"p1011","attributes":{"selected":{"type":"object","name":"Selection","id":"p1012","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p1013"},"data":{"type":"map","entries":[["t",[0.0,5.555555555555555,11.11111111111111,16.666666666666664,22.22222222222222,27.77777777777778,33.33333333333333,38.888888888888886,44.44444444444444,50.0]],["v",[0.0,6.64219126689728,9.273591185972151,10.31605823575672,10.729046600622452,10.892657900902604,10.9574748784658,10.983153059454727,10.993325841396887,10.997355935759385]],["v_noisy",[0.0,6.64219126689728,9.273591185972151,10.31605823575672,10.729046600622452,10.892657900902604,10.9574748784658,10.983153059454727,10.993325841396887,10.997355935759385]],["i",[5.5,2.1789043665513605,0.8632044070139248,0.3419708821216399,0.1354766996887748,0.053671049548697954,0.02126256076710046,0.008423470272636149,0.003337079301556813,0.0013220321203073274]],["i_noisy",[5.5,2.1789043665513605,0.8632044070139248,0.3419708821216399,0.1354766996887748,0.053671049548697954,0.02126256076710046,0.008423470272636149,0.003337079301556813,0.0013220321203073274]],["E",[11.0,11.0,11.0,11.0,11.0,11.0,11.0,11.0,11.0,11.0]],["R",[2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0]],["C",[3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0]],["sigma_v",[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]],["sigma_i",[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]]]}}}],["voltage",{"id":"p1001"}],["period",{"type":"object","name":"Slider","id":"p1004","attributes":{"js_property_callbacks":{"type":"map","entries":[["change:value",[{"id":"p1129"}]]]},"title":"\u5468\u671f T[\u79d2]","start":1.0,"end":40000.0,"value":50.0}}],["resistance",{"id":"p1002"}],["capacitance",{"type":"object","name":"Slider","id":"p1003","attributes":{"js_property_callbacks":{"type":"map","entries":[["change:value",[{"id":"p1008"},{"id":"p1129"}]]]},"title":"\u9759\u96fb\u5bb9\u91cf C[F]","start":1.0,"end":30.0,"value":3.0}}],["samples",{"type":"object","name":"Slider","id":"p1005","attributes":{"js_property_callbacks":{"type":"map","entries":[["change:value",[{"id":"p1129"}]]]},"title":"\u30b5\u30f3\u30d7\u30eb\u6570 N[\u56de/\u534a\u5468\u671f]","start":10,"end":1000,"value":10,"step":10}}],["noise_voltage_slider",{"type":"object","name":"Slider","id":"p1006","attributes":{"js_property_callbacks":{"type":"map","entries":[["change:value",[{"id":"p1129"}]]]},"title":"\u96fb\u5727\u8a08\u6e2c\u30ce\u30a4\u30ba\u5f37\u5ea6","start":0.0,"end":1.0,"value":0.0,"step":0.1}}],["noise_current_slider",{"type":"object","name":"Slider","id":"p1007","attributes":{"js_property_callbacks":{"type":"map","entries":[["change:value",[{"id":"p1129"}]]]},"title":"\u96fb\u6d41\u8a08\u6e2c\u30ce\u30a4\u30ba\u5f37\u5ea6","start":0.0,"end":1.0,"value":0.0,"step":0.1}}],["radio_group",{"type":"object","name":"RadioButtonGroup","id":"p1128","attributes":{"js_property_callbacks":{"type":"map","entries":[["change:active",[{"id":"p1129"}]]]},"labels":["\u5145\u96fb","\u653e\u96fb"],"active":0}}],["texts",{"type":"map","entries":[["tau",{"type":"object","name":"TextInput","id":"p1009","attributes":{"title":"R*C: ","value":"6.0"}}],["i_max",{"type":"object","name":"TextInput","id":"p1010","attributes":{"title":"E/R: ","value":"5.5"}}]]}],["plot_v",{"type":"object","name":"Figure","id":"p1016","attributes":{"height":400,"x_range":{"type":"object","name":"DataRange1d","id":"p1017"},"y_range":{"type":"object","name":"DataRange1d","id":"p1018"},"x_scale":{"type":"object","name":"LinearScale","id":"p1026"},"y_scale":{"type":"object","name":"LinearScale","id":"p1027"},"title":{"type":"object","name":"Title","id":"p1019","attributes":{"text":"\u30b3\u30f3\u30c7\u30f3\u30b5\u306e\u7aef\u5b50\u96fb\u5727\u306e\u9077\u79fb"}},"renderers":[{"type":"object","name":"GlyphRenderer","id":"p1055","attributes":{"data_source":{"id":"p1011"},"view":{"type":"object","name":"CDSView","id":"p1056","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1057"}}},"glyph":{"type":"object","name":"Scatter","id":"p1052","attributes":{"x":{"type":"field","field":"t"},"y":{"type":"field","field":"v_noisy"},"size":{"type":"value","value":15},"line_color":{"type":"value","value":"blue"},"fill_color":{"type":"value","value":"blue"},"hatch_color":{"type":"value","value":"blue"},"marker":{"type":"value","value":"x"}}},"nonselection_glyph":{"type":"object","name":"Scatter","id":"p1053","attributes":{"x":{"type":"field","field":"t"},"y":{"type":"field","field":"v_noisy"},"size":{"type":"value","value":15},"line_color":{"type":"value","value":"blue"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"blue"},"fill_alpha":{"type":"value","value":0.1},"hatch_color":{"type":"value","value":"blue"},"hatch_alpha":{"type":"value","value":0.1},"marker":{"type":"value","value":"x"}}},"muted_glyph":{"type":"object","name":"Scatter","id":"p1054","attributes":{"x":{"type":"field","field":"t"},"y":{"type":"field","field":"v_noisy"},"size":{"type":"value","value":15},"line_color":{"type":"value","value":"blue"},"line_alpha":{"type":"value","value":0.2},"fill_color":{"type":"value","value":"blue"},"fill_alpha":{"type":"value","value":0.2},"hatch_color":{"type":"value","value":"blue"},"hatch_alpha":{"type":"value","value":0.2},"marker":{"type":"value","value":"x"}}}}},{"type":"object","name":"GlyphRenderer","id":"p1066","attributes":{"data_source":{"id":"p1011"},"view":{"type":"object","name":"CDSView","id":"p1067","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1068"}}},"glyph":{"type":"object","name":"Scatter","id":"p1063","attributes":{"x":{"type":"field","field":"t"},"y":{"type":"field","field":"v"},"size":{"type":"value","value":15},"line_color":{"type":"value","value":"red"},"fill_color":{"type":"value","value":"red"},"fill_alpha":{"type":"value","value":0},"hatch_color":{"type":"value","value":"red"}}},"nonselection_glyph":{"type":"object","name":"Scatter","id":"p1064","attributes":{"x":{"type":"field","field":"t"},"y":{"type":"field","field":"v"},"size":{"type":"value","value":15},"line_color":{"type":"value","value":"red"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"red"},"fill_alpha":{"type":"value","value":0.1},"hatch_color":{"type":"value","value":"red"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"Scatter","id":"p1065","attributes":{"x":{"type":"field","field":"t"},"y":{"type":"field","field":"v"},"size":{"type":"value","value":15},"line_color":{"type":"value","value":"red"},"line_alpha":{"type":"value","value":0.2},"fill_color":{"type":"value","value":"red"},"fill_alpha":{"type":"value","value":0.2},"hatch_color":{"type":"value","value":"red"},"hatch_alpha":{"type":"value","value":0.2}}}}}],"toolbar":{"type":"object","name":"Toolbar","id":"p1025","attributes":{"tools":[{"type":"object","name":"PanTool","id":"p1038"},{"type":"object","name":"WheelZoomTool","id":"p1039","attributes":{"renderers":"auto"}},{"type":"object","name":"BoxZoomTool","id":"p1040","attributes":{"overlay":{"type":"object","name":"BoxAnnotation","id":"p1041","attributes":{"syncable":false,"line_color":"black","line_alpha":1.0,"line_width":2,"line_dash":[4,4],"fill_color":"lightgrey","fill_alpha":0.5,"level":"overlay","visible":false,"left":{"type":"number","value":"nan"},"right":{"type":"number","value":"nan"},"top":{"type":"number","value":"nan"},"bottom":{"type":"number","value":"nan"},"left_units":"canvas","right_units":"canvas","top_units":"canvas","bottom_units":"canvas","handles":{"type":"object","name":"BoxInteractionHandles","id":"p1047","attributes":{"all":{"type":"object","name":"AreaVisuals","id":"p1046","attributes":{"fill_color":"white","hover_fill_color":"lightgray"}}}}}}}},{"type":"object","name":"ResetTool","id":"p1048"}]}},"left":[{"type":"object","name":"LinearAxis","id":"p1033","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p1034","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"PrintfTickFormatter","id":"p1071","attributes":{"format":"%.1f"}},"axis_label":"\u96fb\u5727 [V]","axis_label_text_font_size":"13pt","major_label_policy":{"type":"object","name":"AllLabels","id":"p1036"},"major_label_text_font_size":"11pt"}}],"below":[{"type":"object","name":"LinearAxis","id":"p1028","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p1029","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"PrintfTickFormatter","id":"p1070","attributes":{"format":"%.1f"}},"axis_label":"\u6642\u9593 [\u79d2]","axis_label_text_font_size":"13pt","major_label_policy":{"type":"object","name":"AllLabels","id":"p1031"},"major_label_text_font_size":"11pt"}}],"center":[{"type":"object","name":"Grid","id":"p1032","attributes":{"axis":{"id":"p1028"}}},{"type":"object","name":"Grid","id":"p1037","attributes":{"dimension":1,"axis":{"id":"p1033"}}},{"type":"object","name":"Span","id":"p1014","attributes":{"location":0}},{"type":"object","name":"Span","id":"p1015","attributes":{"location":0,"dimension":"height"}},{"type":"object","name":"Legend","id":"p1058","attributes":{"location":"center_right","items":[{"type":"object","name":"LegendItem","id":"p1059","attributes":{"label":{"type":"value","value":"\u8a08\u6e2c\u30ce\u30a4\u30ba\u3042\u308a"},"renderers":[{"id":"p1055"}]}},{"type":"object","name":"LegendItem","id":"p1069","attributes":{"label":{"type":"value","value":"\u8a08\u6e2c\u30ce\u30a4\u30ba\u306a\u3057"},"renderers":[{"id":"p1066"}]}}]}}]}}],["plot_i",{"type":"object","name":"Figure","id":"p1072","attributes":{"height":400,"x_range":{"type":"object","name":"DataRange1d","id":"p1073"},"y_range":{"type":"object","name":"DataRange1d","id":"p1074"},"x_scale":{"type":"object","name":"LinearScale","id":"p1082"},"y_scale":{"type":"object","name":"LinearScale","id":"p1083"},"title":{"type":"object","name":"Title","id":"p1075","attributes":{"text":"\u56de\u8def\u306b\u6d41\u308c\u308b\u96fb\u6d41\u306e\u9077\u79fb"}},"renderers":[{"type":"object","name":"GlyphRenderer","id":"p1111","attributes":{"data_source":{"id":"p1011"},"view":{"type":"object","name":"CDSView","id":"p1112","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1113"}}},"glyph":{"type":"object","name":"Scatter","id":"p1108","attributes":{"x":{"type":"field","field":"t"},"y":{"type":"field","field":"i_noisy"},"size":{"type":"value","value":15},"line_color":{"type":"value","value":"blue"},"fill_color":{"type":"value","value":"blue"},"hatch_color":{"type":"value","value":"blue"},"marker":{"type":"value","value":"x"}}},"nonselection_glyph":{"type":"object","name":"Scatter","id":"p1109","attributes":{"x":{"type":"field","field":"t"},"y":{"type":"field","field":"i_noisy"},"size":{"type":"value","value":15},"line_color":{"type":"value","value":"blue"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"blue"},"fill_alpha":{"type":"value","value":0.1},"hatch_color":{"type":"value","value":"blue"},"hatch_alpha":{"type":"value","value":0.1},"marker":{"type":"value","value":"x"}}},"muted_glyph":{"type":"object","name":"Scatter","id":"p1110","attributes":{"x":{"type":"field","field":"t"},"y":{"type":"field","field":"i_noisy"},"size":{"type":"value","value":15},"line_color":{"type":"value","value":"blue"},"line_alpha":{"type":"value","value":0.2},"fill_color":{"type":"value","value":"blue"},"fill_alpha":{"type":"value","value":0.2},"hatch_color":{"type":"value","value":"blue"},"hatch_alpha":{"type":"value","value":0.2},"marker":{"type":"value","value":"x"}}}}},{"type":"object","name":"GlyphRenderer","id":"p1122","attributes":{"data_source":{"id":"p1011"},"view":{"type":"object","name":"CDSView","id":"p1123","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1124"}}},"glyph":{"type":"object","name":"Scatter","id":"p1119","attributes":{"x":{"type":"field","field":"t"},"y":{"type":"field","field":"i"},"size":{"type":"value","value":15},"line_color":{"type":"value","value":"red"},"fill_color":{"type":"value","value":"red"},"fill_alpha":{"type":"value","value":0},"hatch_color":{"type":"value","value":"red"}}},"nonselection_glyph":{"type":"object","name":"Scatter","id":"p1120","attributes":{"x":{"type":"field","field":"t"},"y":{"type":"field","field":"i"},"size":{"type":"value","value":15},"line_color":{"type":"value","value":"red"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"red"},"fill_alpha":{"type":"value","value":0.1},"hatch_color":{"type":"value","value":"red"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"Scatter","id":"p1121","attributes":{"x":{"type":"field","field":"t"},"y":{"type":"field","field":"i"},"size":{"type":"value","value":15},"line_color":{"type":"value","value":"red"},"line_alpha":{"type":"value","value":0.2},"fill_color":{"type":"value","value":"red"},"fill_alpha":{"type":"value","value":0.2},"hatch_color":{"type":"value","value":"red"},"hatch_alpha":{"type":"value","value":0.2}}}}}],"toolbar":{"type":"object","name":"Toolbar","id":"p1081","attributes":{"tools":[{"type":"object","name":"PanTool","id":"p1094"},{"type":"object","name":"WheelZoomTool","id":"p1095","attributes":{"renderers":"auto"}},{"type":"object","name":"BoxZoomTool","id":"p1096","attributes":{"overlay":{"type":"object","name":"BoxAnnotation","id":"p1097","attributes":{"syncable":false,"line_color":"black","line_alpha":1.0,"line_width":2,"line_dash":[4,4],"fill_color":"lightgrey","fill_alpha":0.5,"level":"overlay","visible":false,"left":{"type":"number","value":"nan"},"right":{"type":"number","value":"nan"},"top":{"type":"number","value":"nan"},"bottom":{"type":"number","value":"nan"},"left_units":"canvas","right_units":"canvas","top_units":"canvas","bottom_units":"canvas","handles":{"type":"object","name":"BoxInteractionHandles","id":"p1103","attributes":{"all":{"type":"object","name":"AreaVisuals","id":"p1102","attributes":{"fill_color":"white","hover_fill_color":"lightgray"}}}}}}}},{"type":"object","name":"ResetTool","id":"p1104"}]}},"left":[{"type":"object","name":"LinearAxis","id":"p1089","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p1090","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"PrintfTickFormatter","id":"p1127","attributes":{"format":"%.1f"}},"axis_label":"\u96fb\u6d41 [A]","axis_label_text_font_size":"13pt","major_label_policy":{"type":"object","name":"AllLabels","id":"p1092"},"major_label_text_font_size":"11pt"}}],"below":[{"type":"object","name":"LinearAxis","id":"p1084","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p1085","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"PrintfTickFormatter","id":"p1126","attributes":{"format":"%.1f"}},"axis_label":"\u6642\u9593 [\u79d2]","axis_label_text_font_size":"13pt","major_label_policy":{"type":"object","name":"AllLabels","id":"p1087"},"major_label_text_font_size":"11pt"}}],"center":[{"type":"object","name":"Grid","id":"p1088","attributes":{"axis":{"id":"p1084"}}},{"type":"object","name":"Grid","id":"p1093","attributes":{"dimension":1,"axis":{"id":"p1089"}}},{"id":"p1014"},{"id":"p1015"},{"type":"object","name":"Legend","id":"p1114","attributes":{"location":"center_right","items":[{"type":"object","name":"LegendItem","id":"p1115","attributes":{"label":{"type":"value","value":"\u8a08\u6e2c\u30ce\u30a4\u30ba\u3042\u308a"},"renderers":[{"id":"p1111"}]}},{"type":"object","name":"LegendItem","id":"p1125","attributes":{"label":{"type":"value","value":"\u8a08\u6e2c\u30ce\u30a4\u30ba\u306a\u3057"},"renderers":[{"id":"p1122"}]}}]}}]}}]]},"code":"\n        // \u6b63\u898f\u5206\u5e03\u3092\u751f\u6210\u3059\u308b\u95a2\u6570 (Box-Muller\u6cd5)\n        function generateGaussianNoise(mean, stdDev) {\n            let u1 = Math.random();\n            let u2 = Math.random();\n            let z0 = Math.sqrt(-2 * Math.log(u1)) * Math.cos(2 * Math.PI * u2);\n            return mean + z0 * stdDev;\n        }\n\n        // \u5024\u306e\u53d6\u5f97\n        const E = voltage.value;\n        const T = period.value;\n        const R = resistance.value;\n        const C = capacitance.value;\n        const num_samples = samples.value;\n        const tau = R * C;\n        const times = Array.from(Array(num_samples).keys()).map(a =&gt; a * T / num_samples);\n        const sigma_v = noise_voltage_slider.value;\n        const sigma_i = noise_current_slider.value;\n\n        let x = [];\n        let v = [];\n        let v_noisy = [];\n        let i = [];\n        let i_noisy = [];\n\n        // \u30e2\u30fc\u30c9\u306e\u9078\u629e\u306b\u57fa\u3065\u3044\u305f\u8a08\u7b97\n        if (radio_group.active === 0) {  // \u5145\u96fb\u30e2\u30fc\u30c9\n            x = times;\n            v = x.map(a =&gt; E * (1.0 - Math.exp(-a / tau)));\n            i = x.map(a =&gt; E * Math.exp(-a / tau) / R);\n        } else {  // \u653e\u96fb\u30e2\u30fc\u30c9\n            x = times;\n            v = x.map(a =&gt; E * Math.exp(-a / tau));\n            i = x.map(a =&gt; -E * Math.exp(-a / tau) / R);\n        }\n\n        // \u30ce\u30a4\u30ba\u306e\u8ffd\u52a0\uff08\u6b63\u898f\u5206\u5e03\u306b\u57fa\u3065\u304f\u30ce\u30a4\u30ba\u751f\u6210\uff09\n        const noise_v = v.map(() =&gt; generateGaussianNoise(0, sigma_v));\n        v_noisy = v.map((a, j) =&gt; a + noise_v[j]);\n        const noise_i = v.map(() =&gt; generateGaussianNoise(0, sigma_i));\n        i_noisy = i.map((a, j) =&gt; a + noise_i[j]);\n\n        // \u30c7\u30fc\u30bf\u306e\u66f4\u65b0\n        source.data = {\n            t: x,\n            v: v,\n            v_noisy: v_noisy,\n            i: i,\n            i_noisy: i_noisy,\n            E: Array(x.length).fill(E),\n            R: Array(x.length).fill(R),\n            C: Array(x.length).fill(C),\n            sigma_v: Array(x.length).fill(sigma_v),\n            sigma_i: Array(x.length).fill(sigma_i),\n        };\n        source.change.emit();\n\n        // \u30c6\u30ad\u30b9\u30c8\u30dc\u30c3\u30af\u30b9\u306e\u5024\u3092\u66f4\u65b0\n        texts['tau'].value = `${tau.toFixed(2)}`;  // R*C\u306e\u8a08\u7b97\u7d50\u679c\u3092\u8868\u793a\n        texts['i_max'].value = `${(E/R).toFixed(2)}`;  // E/R\u306e\u8a08\u7b97\u7d50\u679c\u3092\u8868\u793a\n\n        // plot_i\u306e\u7e26\u8ef8\u306e\u7bc4\u56f2\u3092\u8abf\u6574\n        const v_min = Math.min(...v_noisy);\n        const v_max = Math.max(...v_noisy);\n        plot_v.y_range.start = v_min;\n        plot_v.y_range.end = v_max;\n        plot_v.change.emit();\n\n        // plot_i\u306e\u7e26\u8ef8\u306e\u7bc4\u56f2\u3092\u8abf\u6574\n        const i_min = Math.min(...i_noisy);\n        const i_max = Math.max(...i_noisy);\n        const i_abs_max = Math.max(Math.abs(i_min), Math.abs(i_max));\n        plot_i.y_range.start = -i_abs_max;\n        plot_i.y_range.end = i_abs_max;\n        plot_i.change.emit();\n    "}}]]]},"title":"\u62b5\u6297 R[Ohm]","start":1.0,"end":140.0,"value":2.0}}],["C",{"id":"p1003"}],["T",{"id":"p1004"}],["sigma_v",{"id":"p1006"}],["sigma_i",{"id":"p1007"}]]},"code":"\n        // \u5468\u671f\u306e\u6a2a\u8ef8\u3092\u5909\u66f4\n        const tau = R.value * C.value;\n        T.start = 0.1 * tau;\n        T.end = 15.0 * tau;\n        T.step = 0.1 * tau;\n        T.value = Math.min(Math.max(T.value, T.start), T.end);\n        T.change.emit();\n        \n        // \u96fb\u5727\u8a08\u6e2c\u30ce\u30a4\u30ba\u306e\u6a2a\u8ef8\u3092\u5909\u66f4\n        sigma_v.end = 0.10 * E.value;\n        sigma_v.step = 0.01 * sigma_v.end;\n        sigma_v.value = Math.min(Math.max(sigma_v.value, sigma_v.start), sigma_v.end);\n        sigma_v.change.emit();\n\n        // \u96fb\u9f8d\u8a08\u6e2c\u30ce\u30a4\u30ba\u306e\u6a2a\u8ef8\u3092\u5909\u66f4\n        const i_max = E.value / R.value;\n        sigma_i.end = 0.10 * i_max;\n        sigma_i.step = 0.01 * sigma_i.end;\n        sigma_i.value = Math.min(Math.max(sigma_i.value, sigma_i.start), sigma_i.end);\n        sigma_i.change.emit();\n        "}},{"id":"p1129"}]]]},"title":"\u96fb\u6e90\u96fb\u5727 E[V]","start":1.0,"end":300.0,"value":11.0}},{"id":"p1006"}]}},{"type":"object","name":"Row","id":"p1133","attributes":{"children":[{"id":"p1002"},{"id":"p1007"}]}},{"type":"object","name":"Row","id":"p1134","attributes":{"children":[{"id":"p1010"}]}},{"type":"object","name":"Row","id":"p1135","attributes":{"children":[{"id":"p1003"}]}},{"type":"object","name":"Row","id":"p1136","attributes":{"children":[{"id":"p1009"}]}},{"type":"object","name":"Row","id":"p1137","attributes":{"children":[{"id":"p1004"},{"id":"p1005"}]}},{"id":"p1128"},{"type":"object","name":"Button","id":"p1130","attributes":{"button_type":"success","js_event_callbacks":{"type":"map","entries":[["button_click",[{"type":"object","name":"CustomJS","id":"p1131","attributes":{"args":{"type":"map","entries":[["source",{"id":"p1011"}],["radio_group",{"id":"p1128"}]]},"code":"\n        // \u6700\u65b0\u306e\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\n        const data = source.data;\n        const E = data['E'][0].toFixed(15);\n        const R = data['R'][0].toFixed(15);\n        const C = data['C'][0].toFixed(15);\n        const sigma_v = data['sigma_v'][0].toFixed(15);\n        const sigma_i = data['sigma_i'][0].toFixed(15);\n        const t = data['t'];\n        const v = data['v'];\n        const v_noisy = data['v_noisy'];\n        const i = data['i'];\n        const i_noisy = data['i_noisy'];\n\n        // \u30e9\u30b8\u30aa\u30dc\u30bf\u30f3\u306e\u9078\u629e\u72b6\u614b\u3092\u78ba\u8a8d\n        const selected_mode = radio_group.active === 0 ? 'charge' : 'discharge';\n\n        // CSV \u30c7\u30fc\u30bf\u306e\u751f\u6210\n        const csv = ['\u96fb\u6e90\u96fb\u5727 [V],\u62b5\u6297 [\u03a9],\u9759\u96fb\u5bb9\u91cf(\u771f\u5024) [F],\u96fb\u5727\u8a08\u6e2c\u30ce\u30a4\u30ba\u5f37\u5ea6,\u96fb\u6d41\u8a08\u6e2c\u30ce\u30a4\u30ba\u5f37\u5ea6,\u6642\u9593 [\u79d2],\u30b3\u30f3\u30c7\u30f3\u30b5\u306e\u7aef\u5b50\u96fb\u5727 [V],\u30ce\u30a4\u30ba\u3042\u308a\u30b3\u30f3\u30c7\u30f3\u30b5\u306e\u7aef\u5b50\u96fb\u5727 [V],\u96fb\u6d41 [A],\u30ce\u30a4\u30ba\u3042\u308a\u96fb\u6d41 [A]'];\n        // 1\u884c\u76ee\n        csv.push([E, R, C, sigma_v, sigma_i, t[0].toFixed(15), v[0].toFixed(15), v_noisy[0].toFixed(15), i[0].toFixed(15), i_noisy[0].toFixed(15)].join(','));\n        for (let n = 1; n &lt; t.length; n++) {\n            csv.push(['', '', '', '', '', t[n].toFixed(15), v[n].toFixed(15), v_noisy[n].toFixed(15), i[n].toFixed(15), i_noisy[n].toFixed(15)].join(','));\n        }\n        const csvContent = csv.join('\\n');\n\n        // \u30d5\u30a1\u30a4\u30eb\u540d\u306e\u8a2d\u5b9a\n        const fileName = selected_mode === 'charge' ? 'charge_data.csv' : 'discharge_data.csv';\n\n        // CSV \u30d5\u30a1\u30a4\u30eb\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n        const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\n        const link = document.createElement('a');\n        link.href = URL.createObjectURL(blob);\n        link.download = fileName;\n        link.click();\n        "}}]]]},"label":"\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9"}},{"type":"object","name":"Row","id":"p1138","attributes":{"children":[{"id":"p1016"},{"id":"p1072"}]}}]}}]}}
    </script>
    <script type="text/javascript">
      (function() {
        const fn = function() {
          Bokeh.safely(function() {
            (function(root) {
              function embed_document(root) {
              const docs_json = document.getElementById('b5363ecc-f94d-4bdf-bc86-63b8d42270e3').textContent;
              const render_items = [{"docid":"0c980f4c-125f-4f2e-a5cb-39fd052fad4a","roots":{"p1139":"cfe47a2f-1f7b-4f43-ab21-c30f95523d25"},"root_ids":["p1139"]}];
              root.Bokeh.embed.embed_items(docs_json, render_items);
              }
              if (root.Bokeh !== undefined) {
                embed_document(root);
              } else {
                let attempts = 0;
                const timer = setInterval(function(root) {
                  if (root.Bokeh !== undefined) {
                    clearInterval(timer);
                    embed_document(root);
                  } else {
                    attempts++;
                    if (attempts > 100) {
                      clearInterval(timer);
                      console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
                    }
                  }
                }, 10, root)
              }
            })(window);
          });
        };
        if (document.readyState != "loading") fn();
        else document.addEventListener("DOMContentLoaded", fn);
      })();
    </script>
  </body>
</html>